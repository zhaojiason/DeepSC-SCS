<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semantic Communication System Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container main-wrapper">
        <h1 class="app-title">Semantic Communication System Demo</h1>

        <!-- 输入输出区域 -->
        <div class="io-container">
            <form method="POST" action="/" id="textForm">
                <div class="row g-4">
                    <!-- 输入列 -->
                    <div class="col-md-6">
                        <div class="io-box">
                            <label class="io-label">Text Input</label>
                            <textarea name="inputText" class="io-textarea form-control"
                                placeholder="Enter text here"></textarea>
                        </div>
                    </div>

                    <!-- 输出列 -->
                    <div class="col-md-6">
                        <div class="io-box">
                            <label class="io-label">Text Output</label>
                            {% if output_text %}
                            <textarea name="outputText" class="io-textarea form-control" readonly>{{output_text}}</textarea>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- 操作按钮组 -->
                <div class="button-group">
                    <button type="submit" class="action-btn transmit-btn">
                        Transmit
                    </button>
                    <button type="button" class="action-btn settings-btn" onclick="openSettings()">
                        Settings
                    </button>
                </div>
            </form>
        </div>
    </div>

<script>
    // 页面加载时清空所有内容
    window.addEventListener('load', function () {
        // 检测是否是刷新操作
        if (performance.navigation.type === 1) {
            // 清空输入框
            let inputText = document.querySelector('textarea[name="inputText"]');
            if (inputText) inputText.value = '';

            // 清空输出框（如果存在）
            let outputText = document.querySelector('textarea[name="outputText"]');
            if (outputText) outputText.value = '';
        }
    });

    function openSettings() {
        alert("Settings section is under development.");
    }
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>